/***** Typo LESS (sin :root, solo @vars) *****/

/* Viewport para interpolación */
@vw-min: 375;     /* px  */
@vw-max: 1440;    /* px  */
@vw-range: (@vw-max - @vw-min);

/* Familia base */
@font-sans: "Source Sans Pro", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";

/* Escalas (números en px y line-heights unitless) */
@fs-display-min: 44;  @fs-display-max: 64;  @lh-display: 1.15;
@fs-hl-min: 28;       @fs-hl-max: 40;       @lh-hl: 1.2;
@fs-hm-min: 24;       @fs-hm-max: 28;       @lh-hm: 1.3;
@fs-hs-min: 20;       @fs-hs-max: 20;       @lh-hs: 1.4;

@fs-bl: 18;           @lh-bl: 1.5556;
@fs-bm: 16;           @lh-bm: 1.5;
@fs-bs: 12;           @lh-bs: 1.3333;
@fs-label: 10;        @lh-label: 1.4;

/* Util: bloque base común */
.ty-base() {
  font-family: @font-sans;
  font-weight: 700;
  letter-spacing: 0;
}

/* Fórmula fluid: clamp(min, min + (max-min)*((100vw - vwmin)/(vwmax-vwmin)), max) */
/* Usamos strings escapados ~"..." para evitar que LESS intente evaluar los calc/divisiones */

.ty-display {
  .ty-base();
  font-size: ~"clamp(@{fs-display-min}px, calc(@{fs-display-min}px + (@{fs-display-max} - @{fs-display-min}) * ((100vw - @{vw-min}px) / @{vw-range})), @{fs-display-max}px)";
  line-height: @lh-display;
}

.ty-heading-l {
  .ty-base();
  font-size: ~"clamp(@{fs-hl-min}px, calc(@{fs-hl-min}px + (@{fs-hl-max} - @{fs-hl-min}) * ((100vw - @{vw-min}px) / @{vw-range})), @{fs-hl-max}px)";
  line-height: @lh-hl;
}

.ty-heading-m {
  .ty-base();
  font-size: ~"clamp(@{fs-hm-min}px, calc(@{fs-hm-min}px + (@{fs-hm-max} - @{fs-hm-min}) * ((100vw - @{vw-min}px) / @{vw-range})), @{fs-hm-max}px)";
  line-height: @lh-hm;
}

.ty-heading-s {
  .ty-base();
  font-size: ~"calc(@{fs-hs-min}px)"; /* fijo */
  line-height: @lh-hs;
}

.ty-body-l { .ty-base(); font-size: ~"calc(@{fs-bl}px)";   line-height: @lh-bl; }
.ty-body-m { .ty-base(); font-size: ~"calc(@{fs-bm}px)";   line-height: @lh-bm; }
.ty-body-s { .ty-base(); font-size: ~"calc(@{fs-bs}px)";   line-height: @lh-bs; }
.ty-label,
.ty-caption { .ty-base(); font-size: ~"calc(@{fs-label}px)"; line-height: @lh-label; }

/* Alias directo de display (sin :root, sin extends avanzados) */
.display-text {
  .ty-base();
  font-size: ~"clamp(@{fs-display-min}px, calc(@{fs-display-min}px + (@{fs-display-max} - @{fs-display-min}) * ((100vw - @{vw-min}px) / @{vw-range})), @{fs-display-max}px)";
  line-height: @lh-display;
}
